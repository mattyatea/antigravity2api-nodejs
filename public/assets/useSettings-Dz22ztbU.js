import{u as M,J as z,K as k,L as O,M as h,c as S,D as f,N as d,x,O as A,v as w}from"./index-CDUZ-j6a.js";async function D(e,t={}){const s=M(),r=new Headers(t.headers||{});s.token&&r.set("Authorization",`Bearer ${s.token}`);const c={...t,headers:r};try{const o=await fetch(e,c);if(o.status===401)throw s.logout(),z.push("/login"),new Error("Unauthorized");return o}catch(o){throw o}}function E(e,t){return k()?(O(e,t),!0):!1}const C=typeof window<"u"&&typeof document<"u";typeof WorkerGlobalScope<"u"&&globalThis instanceof WorkerGlobalScope;const F=e=>e!=null;function H(e){return Array.isArray(e)?e:[e]}const y=C?window:void 0;function g(e){var t;const s=d(e);return(t=s?.$el)!==null&&t!==void 0?t:s}function P(){const e=h(!1),t=A();return t&&x(()=>{e.value=!0},t),e}function R(e){const t=P();return S(()=>(t.value,!!e()))}function V(e,t,s={}){const{window:r=y,...c}=s;let o;const a=R(()=>r&&"MutationObserver"in r),l=()=>{o&&(o.disconnect(),o=void 0)},v=f(S(()=>{const u=H(d(e)).map(g).filter(F);return new Set(u)}),u=>{l(),a.value&&u.size&&(o=new MutationObserver(t),u.forEach(I=>o.observe(I,c)))},{immediate:!0,flush:"post"}),i=()=>o?.takeRecords(),n=()=>{v(),l()};return E(n),{isSupported:a,stop:n,takeRecords:i}}function W(e,t,s={}){const{window:r=y,initialValue:c,observe:o=!1}=s,a=h(c),l=S(()=>{var i;return g(t)||(r==null||(i=r.document)===null||i===void 0?void 0:i.documentElement)});function v(){const i=d(e),n=d(l);if(n&&r&&i){var u;a.value=((u=r.getComputedStyle(n).getPropertyValue(i))===null||u===void 0?void 0:u.trim())||a.value||c}}return o&&V(l,v,{attributeFilter:["style","class"],window:r}),f([l,()=>d(e)],(i,n)=>{n[0]&&n[1]&&n[0].style.removeProperty(n[1]),v()},{immediate:!0}),f([a,l],([i,n])=>{const u=d(e);n?.style&&u&&(i==null?n.style.removeProperty(u):n.style.setProperty(u,i))},{immediate:!0}),a}const m=w(localStorage.getItem("fontSize")||"18"),p=w(localStorage.getItem("sensitiveInfoHidden")!=="false"),b=W("--font-size-base",document.documentElement);b.value=m.value+"px";f(m,e=>{b.value=e+"px",localStorage.setItem("fontSize",e)});f(p,e=>{localStorage.setItem("sensitiveInfoHidden",String(e))});function B(){function e(s){let r=Math.max(10,Math.min(24,parseInt(String(s))||14));m.value=String(r)}function t(){p.value=!p.value}return{fontSize:m,sensitiveInfoHidden:p,setFontSize:e,toggleSensitiveInfo:t}}export{D as a,B as u};
